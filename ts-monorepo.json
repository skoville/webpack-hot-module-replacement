{
    "packageRoot": "packages",
    "ttypescript": true,
    "cleanBeforeCompile": false,
    "baseConfigs": {
        "tsconfig.json": {
            "compilerOptions": {
                "module": "commonjs", /* need to use this if targetting es6. Not needed when targetting es5 */
                "target": "es6",

                /* Type Definitions */
                "lib": ["esnext"],
                "types": ["ts-nameof"],

                /* Code Quality */
                "forceConsistentCasingInFileNames": true,
                "noImplicitReturns": true,
                "noUnusedLocals": true,
                "noUnusedParameters": true,
                "strict": true, // noImplicitAny noImplicitThis alwaysStrict strictBindCallApply strictFunctionTypes strictPropertyInitialization strictNullChecks
                "stripInternal": true,

                /* Compiler input output locations */
                "rootDir": "./source",
                "outDir": "./distribution",

                /* https://github.com/cevek/ttypescript */
                "plugins": [
                    {
                        "transform": "ts-nameof",
                        "type": "raw"
                    }
                ]
                /** Look into the following:
                    allowSyntheticDefaultImports
                    "diagnostics"
                    downlevelIteration
                    emitDecoratorMetadata
                    esModuleInterop
                    experimentalDecorators
                    extendedDiagnostics <-- doesn't seem to be in the tsconfig.json schema
                    importHelpers
                    isolatedModules
                    listEmittedFiles
                    listFiles
                    module: ESNext
                    moduleResolution
                    noEmitOnError
                    noErrorTruncation
                    pretty
                    removeComments
                    resolveJsonModule
                    sourceMap
                    sourceRoot
                    stripInternal // Could be a good way to hide internal details.
                    traceResolution
                */
            },
            "include": [
                "source/**/*"
            ]
        },
        "package.json": {
            "author": "Alexander Leung",
            "license": "MIT",
            "repository": {
                "type": "git",
                "url": "git+https://github.com/skoville/webpack-hot-module-replacement.git"
            },
            "devDependencies":[
                "ts-nameof"
            ]
        }
    },
    "packages": {
        "@isomorphic-typescript/fs-async-nodejs": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json":{
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "dependencies": [
                        "@types/node"
                    ]
                },
                "tsconfig.json":{
                    "compilerOptions": {
                        "types": ["node"]
                    }
                }
            }
        },
        "@isomorphic-typescript/modularly-architected-library-foundation": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "description": "Provides the foundation to build a library or application with a modular architecture. Easily swappable implementations with a clear interface."
                },
                "tsconfig.json": {}
            }
        },
        // NEW APPROACH
        // TODO: should we have a package "webpack-hmr-server-node-default-event-observer" or should we have the dashboard use the public API?
        //       Probably the latter I think. In that case it could be "webpack-hmr-dashboard-client". It can take in the socket-io accessor or any other accessor and JUST WORK
        "@skoville/webpack-hmr-client-universal-hot-runtime": { // TODO: implement
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "devDependencies": [
                        "@types/webpack-env"
                    ],
                    "dependencies": [
                        "@skoville/webpack-hmr-shared-universal-utilities"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions": {
                        "types": ["webpack-env"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-client-default-socket-io-accessor": { // TODO: implement
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js"
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-client-web-customizable": { // TODO: implement
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js"
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-client-web-default": { // TODO: implement
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js"
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-client-node-customizable": { // TODO: implement
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js"
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-client-node-default": { // TODO: implement
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js"
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-shared-universal-utilities": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json":{
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "dependencies": [
                        "ansicolor"
                    ]
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-server-node-customizable": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "dependencies":[
                        "memory-fs",
                        "uuid",
                        "ansicolor",
                        "@types/webpack",
                        "@skoville/webpack-hmr-shared-universal-utilities"
                    ],
                    "devDependencies": [
                        "@types/node",
                        "@types/uuid",
                        "@types/webpack-env",
                        "@types/memory-fs"
                    ],
                    "peerDependencies": [
                        "webpack"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions": {
                        "types":["node", "webpack-env"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-server-node-default": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "dependencies": [
                        "@skoville/webpack-hmr-server-node-customizable",
                        "@types/webpack",
                        "express",
                        "mime",
                        "socket.io"
                    ],
                    "devDependencies": [
                        "@types/node",
                        "@types/mime",
                        "@types/express",
                        "@types/socket.io"
                    ],
                    "peerDependencies": [
                        "webpack"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions": {
                        "types": ["node"]
                    }
                }
            }
        },
        // OLD APPROACH
        "@skoville/webpack-hmr-core": {
            "publishDistributionFolder": true,
            "configs": {
                "package.json": {
                    "description": "Skoville hmr webpack core!",
                    "dependencies": [
                        "@types/webpack-env",
                        "@isomorphic-typescript/modularly-architected-library-foundation",
                        "ansicolor",
                        "uuid"
                    ],
                    "devDependencies":[
                        "@types/uuid"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions": {
                        "types": ["webpack-env"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-node-client-cli": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json":{
                    "files":["distribution"],
                    "bin": {
                        "skoville-webpack-node-run": "./distribution/cli.js"
                    },
                    "dependencies": [
                        "@isomorphic-typescript/fs-async-nodejs",
                        "@skoville/webpack-hmr-core",
                        "@skoville/webpack-hmr-node-client-cli-data-transfer-object",
                        "yargs"
                    ],
                    "devDependencies": [
                        "@types/yargs",
                        "@types/node"
                    ]
                },
                "tsconfig.json":{
                    "compilerOptions": {
                        "types": ["node"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-node-client-cli-data-transfer-object": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files":["distribution"],
                    "main":"./distribution/package.js"
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-node-client-abstract": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files":["distribution"],
                    "main": "./distribution/package.js",
                    "dependencies": [
                        "@skoville/webpack-hmr-node-client-cli-data-transfer-object",
                        "@skoville/webpack-hmr-core"
                    ],
                    "devDependencies": [
                        "@types/node"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions": {
                        "types":["node"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-node-client-default": {
            "publishDistributionFolder": true,
            "configs": {
                "package.json": {
                    "dependencies":[
                        "@skoville/webpack-hmr-node-client-abstract",
                        "@skoville/webpack-hmr-universal-client-socketio-remote-accessor-module"
                    ],
                    "devDependencies": [
                        "@types/node"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions": {
                        "types":["node"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-web-client-abstract": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files":["distribution"],
                    "main":"./distribution/package.js",
                    "dependencies": [
                        "@skoville/webpack-hmr-core",
                        "ansicolor"
                    ]
                },
                "tsconfig.json": {
                    "compilerOptions":{
                        "lib": ["dom"]
                    }
                }
            }
        },
        "@skoville/webpack-hmr-web-client-default": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files":["distribution"],
                    "main":"./distribution/entry.js",
                    "dependencies":[
                        "@skoville/webpack-hmr-web-client-abstract",
                        "@skoville/webpack-hmr-universal-client-socketio-remote-accessor-module"
                    ]
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-universal-client-socketio-remote-accessor-module": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json": {
                    "files": ["distribution"],
                    "main": "./distribution/package.js",
                    "dependencies": [
                        "@skoville/webpack-hmr-core",
                        "socket.io-client"
                    ],
                    "devDependencies": [
                        "@types/socket.io-client"
                    ]
                },
                "tsconfig.json": {}
            }
        },
        "@skoville/webpack-hmr-universal-shared-data-transfer-interface": {
            "publishDistributionFolder": false,
            "configs": {
                "package.json":{},
                "tsconfig.json":{}
            }
        }
        /*
        "@skoville-integration-testing/default-test": {
            "publishDistributionFolder": false,
            "configs":{
                "package.json":{
                    "dependencies":[
                        "@skoville/webpack-hmr-node-server-default",
                        "@skoville/webpack-hmr-node-client-default",
                        "chokidar",
                        "ansicolor",
                        "webpack",
                        "@isomorphic-typescript/fs-async-nodejs",
                        "source-map-support",
                        "ts-loader"
                    ],
                    "devDependencies": [
                        "@types/node",
                        "@types/webpack",
                        "@types/webpack-env",
                        "@skoville/webpack-hmr-node-client-cli"
                    ],
                    "scripts": {
                        "start": "node --preserve-symlinks -r source-map-support/register ./distribution/main.js",
                        "test": "skoville-webpack-node-run -u http://localhost:8080/server.js"
                    },
                    "resolutions": {
                        "@types/node": "^12.6.8"
                    }
                },
                "tsconfig.json":{
                    "compilerOptions": {
                        "types":["node", "webpack-env"]
                    }
                }
            }
        }
        */
    },
    "version": "0.0.0"
}